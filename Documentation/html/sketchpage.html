<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>deviceScheduler: voiceOGraph.ino</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">deviceScheduler
   </div>
   <div id="projectbrief">Schduler to controll Stepper-, Servo- and DC-Devices in Real Time</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sketchpage.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="voice_o_graph_8ino.html">voiceOGraph.ino</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="voice_o_graph_8ino.html">voiceOGraph.ino</a> is the main sketch to control the cutting machine </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;Arduino.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;Servo.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="voice_o_graph_8h.html">voiceOGraph.h</a>&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="_c_c_device_scheduler_8h.html">CCDeviceScheduler.h</a>&quot;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;malloc.h&gt;</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ------------- globals -----------------------------------------------------------------------------------------------------</span></div><div class="line"><a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>   *cuttingProcess;</div><div class="line"><a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>   *fetchingRecord;</div><div class="line"><a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>   *ejectingRecord;</div><div class="line"></div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       catSongStartPosition, catSongEndPosition, catCuttingEndPosition;</div><div class="line"><span class="keywordtype">float</span>               catMotorSpeed_startGroove, catMotorSpeed_song, catMotorSpeed_endGroove;</div><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>       grooves_all;</div><div class="line"><span class="keywordtype">float</span>               turnTableStepperDegrees, turnTableStepperSpeed;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ------------- prototypes --------------------------------------------------------------------------------------------------</span></div><div class="line"><span class="keywordtype">void</span> setup();</div><div class="line"><span class="keywordtype">void</span> calculateCuttingParameters();</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> freeRam ();</div><div class="line"></div><div class="line"><span class="keyword">extern</span> <span class="keywordtype">char</span> _end;</div><div class="line"><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> <span class="keywordtype">char</span> *sbrk(<span class="keywordtype">int</span> i);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ------------- main loop --------------------------------------------------------------------------------------------------</span></div><div class="line"><span class="keywordtype">void</span> loop() {</div><div class="line"></div><div class="line">    Serial.println(), Serial.println(), Serial.println();</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 56; i++) Serial.print(F(<span class="stringliteral">&quot;#&quot;</span>));</div><div class="line">    Serial.println(), Serial.println(), Serial.println();</div><div class="line"></div><div class="line"></div><div class="line">    freeRam();</div><div class="line"></div><div class="line">    <span class="comment">// ================================================================================================================================</span></div><div class="line">    <span class="comment">// ============= create fetchingRecord scheduler object: ==========================================================================</span></div><div class="line">    <span class="comment">// ================================================================================================================================</span></div><div class="line"></div><div class="line">    fetchingRecord = <span class="keyword">new</span> <a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>(<span class="stringliteral">&quot;fetchingRecord&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= devices of fetchingRecord: ===================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> liftServo = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#af0f4f3774a58dd92df9d45d11b5ae974">addServoWithCounterServo</a>(<a class="code" href="voice_o_graph_8h.html#a0a85236607721bb3c9802dd2f2ed86a5">SERVO_LIFT_NAME</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a3263ecb8451b57fd16c52d3164401e83">SERVO_LIFT_LEFT_PIN</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a5c70a913b4d1d42fdf56205099ef93e1">SERVO_LIFT_LEFT_MIN_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a66df53f7bd85c2c5af0d6d744b9e517b">SERVO_LIFT_LEFT_MID_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#aa071acbf309ba2aa1dc90fa5f710e3f6">SERVO_LIFT_LEFT_MAX_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a48a2dc088572e38537a785783785bbf8">SERVO_LIFT_RIGHT_PIN</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a1a11b0e118bb6965c6210902a3d1a075">SERVO_LIFT_RIGHT_MIN_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#acc77c2ad428a5b4401cefceccf163ff2">SERVO_LIFT_RIGHT_MID_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#af5c5bd1726280ebe880c6e0acdbe7ee3">SERVO_LIFT_RIGHT_MAX_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a17aa51a7e69184c7b66d1ba16ce5091c">LIFT_PARK_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a8aace30cd9b69701771df869809265cd">LIFT_SPEED_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#a3aaf2b341424c8529c4d61e4dce527d0">LIFT_ACCEL_SLOW</a>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> turnServo = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#aa63c135023ccce2973a935764941538f">addServo</a>(<a class="code" href="voice_o_graph_8h.html#af8f685fb9cd75e233c5751ec196c86cf">SERVO_TURN_NAME</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#ae32e485bb1480eef2def565598e2ca23">SERVO_TURN_PIN</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a6c0c287944cda1088e9fcf388ac7b7bd">SERVO_TURN_MIN_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#ab3a57da8611ea208a5c35c0613582081">SERVO_TURN_MAX_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a67ca1e0ae8e1f063920cb7beca8d4299">TURN_STOCK_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a51bcf8b0e667a503cbf699d2b5ddbb82">TURN_SPEED_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#a566bfaeac14b7e0ac53a61f161b5d6d9">TURN_ACCEL_SLOW</a>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> pumpServo = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#aa63c135023ccce2973a935764941538f">addServo</a>(<a class="code" href="voice_o_graph_8h.html#afc02cb24c55e6686b1f7d8b68352a516">SERVO_PUMP_NAME</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#acf5d129a9f18371e6d86eec8f6abcb09">SERVO_PUMP_PIN</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a16ab05d8a4bab7d1f46214468ea63bb6">SERVO_PUMP_MIN_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a1929316435a78aaefc83146a9187f3ee">SERVO_PUMP_MAX_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a28626fa7151d1853fb434571d2d28809">PUMP_PARK_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#abef707d92b6c693ef200612a58859e5b">PUMP_SPEED</a>, <a class="code" href="voice_o_graph_8h.html#a62b6c62f5c1a1630f67bc26783e065af">PUMP_ACCEL</a>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> stockStepper = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a574d438dc61cbed9c81aacc68ceba96e">addStepper_A4988</a>(<a class="code" href="voice_o_graph_8h.html#a7eacd396665ff655dc7f5eeeafd66a1c">STEPPER_STOCK_NAME</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a1203c4ec01180a3daf99060ce1ca02a2">STEPPER_STOCK_STEP_PIN</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a6e96f0541b99315307b0412db638a2e2">STEPPER_STOCK_DIR_PIN</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a84defb5fafcc555793e9f221bca23411">STEPPER_STOCK_ENABLE_PIN</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a047cb55a599d8fa561f3008e491f5839">STEPPER_STOCK_HIGHEST_STEPPINGMODE</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a7af7e2994c2c84c87dfc13947d9f1023">STEPPER_STOCK_STEPMODECODES</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#aabcce1e34440d5f29e7c41c4a1414418">STEPPER_STOCK_MICROSTEPPINS</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#ae9da98bec12c519950c375b85ea76503">STEPPER_STOCK_STEPS_PER_ROTATION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a999e42ab9162193abede15558ec1c3a9">STOCK_SUPPLY_RECORD_SPEED</a>, <a class="code" href="voice_o_graph_8h.html#ad60e52ace0d473cba2b35d434ca5fdd8">STOCK_SUPPLY_RECORD_ACCEL</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> recordAvailableButton = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#acdaa15226c60ef64684e3bc02e7429f9">RECORDAVAILABLE_BUTTON_NAME</a>,</div><div class="line">                                                                                        <a class="code" href="voice_o_graph_8h.html#aba1845c599cdd6abf8bc83015fb9d94f">RECORDAVAILABLE_BUTTON_PIN</a>,</div><div class="line">                                                                                        <a class="code" href="voice_o_graph_8h.html#af57b9efb5699ac3404bf0b345a1327ae">RECORDAVAILABLE_BUTTON_ACTIV</a>,</div><div class="line">                                                                                        <a class="code" href="voice_o_graph_8h.html#a695acfe8e1903583024f8b0f8e41ef39">RECORDAVAILABLE_BUTTON_PULLUP</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> stockTopButton = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#a0f91eaf8fae5c0f838816e4987a35d70">STOCKTOP_BUTTON_NAME</a>,</div><div class="line">                                                                                 <a class="code" href="voice_o_graph_8h.html#a31e414ea9322810bedec683291dfc05f">STOCKTOP_BUTTON_PIN</a>,</div><div class="line">                                                                                 <a class="code" href="voice_o_graph_8h.html#afab543c282861ae639ad10a16ddb10d5">STOCKTOP_BUTTON_ACTIV</a>,</div><div class="line">                                                                                 <a class="code" href="voice_o_graph_8h.html#a1b18521b38df6cb323282a6561ce32da">STOCKTOP_BUTTON_PULLUP</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> stockBottomButton = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#a831215c570c00bb2595ab9ac4c4fb3ea">STOCKBOTTOM_BUTTON_NAME</a>,</div><div class="line">                                                                                    <a class="code" href="voice_o_graph_8h.html#ad58b0c8a6353fc2be70d606c618161e2">STOCKBOTTOM_BUTTON_PIN</a>,</div><div class="line">                                                                                    <a class="code" href="voice_o_graph_8h.html#a93ae5062c2715da03c1897a25e56dea6">STOCKBOTTOM_BUTTON_ACTIV</a>,</div><div class="line">                                                                                    <a class="code" href="voice_o_graph_8h.html#ac2133c06c44f998febac68b61ec6777a">STOCKBOTTOM_BUTTON_PULLUP</a>);</div><div class="line"></div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#aba6aefa93793d483bcba0bccff20da75">getAllDevices</a>();</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a8852e0c0181ab959c6bc0d863353dd71">getAllControlButtons</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= initialisation of fetchingRecord: ============================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <span class="comment">//  not needed</span></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= tasks of fetchingRecord: =====================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <span class="comment">//  lift grappler</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftFromParkPosition = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a17aa51a7e69184c7b66d1ba16ce5091c">LIFT_PARK_POSITION</a> + 500, <a class="code" href="voice_o_graph_8h.html#a1605a33747d6a8b2ae09aa98ac85f119">LIFT_SPEED_VERY_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#ae193785e7d591cca99c15b1e67db7727">LIFT_ACCEL_VERY_SLOW</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftFromParkPosition]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(100);</div><div class="line"></div><div class="line">        <span class="comment">//  move stock down first</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> moveStockStepperDown = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ae79ae5201a6a2cb16982deb32e8fa48e">addTaskMoveRelativ</a>(-4000);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[moveStockStepperDown]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(100);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[moveStockStepperDown]-&gt;<a class="code" href="class_c_c_task.html#a8e26a5db883bbb72d1dee6a24c5adbba">stopByButton</a>(stockBottomButton, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  supply a new record, terminated by recordAvailableButton</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> supplyRecord = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ae79ae5201a6a2cb16982deb32e8fa48e">addTaskMoveRelativ</a>(14000);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[supplyRecord]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(stockStepper, moveStockStepperDown);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[stockStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[supplyRecord]-&gt;<a class="code" href="class_c_c_task.html#a8e26a5db883bbb72d1dee6a24c5adbba">stopByButton</a>(recordAvailableButton, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  lower grappler to stock: start when record is available</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerToStock = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#aa065349ab251bfb2f6c1cca49cf1bac8">LIFT_STOCK_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerToStock]-&gt;<a class="code" href="class_c_c_task.html#aa669a66b635c21b09cd3f042d9b1cc0b">startByButton</a>(recordAvailableButton);</div><div class="line"></div><div class="line">        <span class="comment">//  pump: prepare</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForGrip_down = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ad9c48b010ef33f3d35827900b1a4ae74">PUMP_DOWN_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForGrip_down]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(liftServo, lowerToStock, <a class="code" href="voice_o_graph_8h.html#aa065349ab251bfb2f6c1cca49cf1bac8">LIFT_STOCK_POSITION</a> + 60);</div><div class="line"></div><div class="line">        <span class="comment">//  pump: make vaccum</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForGrip_up = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a28626fa7151d1853fb434571d2d28809">PUMP_PARK_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForGrip_up]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(pumpServo, pumpForGrip_down);</div><div class="line"></div><div class="line">        <span class="comment">//  lift the new record</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftNewRecord = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a6f701e4732bb1351d7498e5bbc7c0b6b">LIFT_UP_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftNewRecord]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(pumpServo, pumpForGrip_up);</div><div class="line"></div><div class="line">        <span class="comment">//  turn grappler to turn table: start when lifting reached triggerPosition (LIFT_UP_TRIGGER_TURN)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> turnRecordToTable = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a7db71ae8657099c8790a654ffec28e15">TURN_TABLE_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnRecordToTable]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, liftNewRecord);</div><div class="line"></div><div class="line">        <span class="comment">//  lower grappler to turn table: start when turning reached trigger position (TURN_TO_TABLE_TRIGGER_LIFT)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerRecordToTable = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a5cbaea04fb70bc6909c72860942d2574">LIFT_TABLE_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerRecordToTable]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(turnServo, turnRecordToTable, <a class="code" href="voice_o_graph_8h.html#a1ae60a581d9d5c8f6364421c79953e62">TURN_TO_TABLE_TRIGGER_LIFT</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  release new record: release vacuum</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForRelease_down = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ad9c48b010ef33f3d35827900b1a4ae74">PUMP_DOWN_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForRelease_down]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, lowerRecordToTable);</div><div class="line"></div><div class="line">        <span class="comment">//  lift for going to park position: start when vacuum was released</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftForParkPosition = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a6f701e4732bb1351d7498e5bbc7c0b6b">LIFT_UP_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a8a0781daa7bd04dc93c4f78138fed27f">LIFT_ACCEL_FAST</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftForParkPosition]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(pumpServo, pumpForRelease_down);</div><div class="line"></div><div class="line">        <span class="comment">//  release pump when record is placed</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForRelease_up = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a28626fa7151d1853fb434571d2d28809">PUMP_PARK_POSITION</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForRelease_up]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, liftForParkPosition);</div><div class="line"></div><div class="line">        <span class="comment">//  turn grappler to park position: start when lifting reached triggerPosition (LIFT_UP_TRIGGER_TURN)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> turnToStockPosition = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a67ca1e0ae8e1f063920cb7beca8d4299">TURN_STOCK_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a3938b0d3e6491d375a6bed7d57dd5f87">TURN_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a9ea2c092d6413f6eda2e3b6a2ca5931d">TURN_ACCEL_FAST</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnToStockPosition]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(liftServo, liftForParkPosition, <a class="code" href="voice_o_graph_8h.html#af25d342159dfc1b80db81db0c7bbfc7c">LIFT_UP_TRIGGER_TURN</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  lower grappler to park position: start when turning reached trigger position (TURN_TO_PARK_TRIGGER_LIFT)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerForParkPosition = fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a17aa51a7e69184c7b66d1ba16ce5091c">LIFT_PARK_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a8a0781daa7bd04dc93c4f78138fed27f">LIFT_ACCEL_FAST</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerForParkPosition]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(turnServo, turnToStockPosition, <a class="code" href="voice_o_graph_8h.html#a5a7a279583c30a219af7bf096dae42cc">TURN_TO_STOCK_TRIGGER_LIFT</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">//  cancel loading if stockBottomButton is pressed</span></div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[stockTopButton]-&gt;<a class="code" href="class_c_c_control_button.html#ac8b54a9a471c0aaa16a32acd1a800f8b">evokeTaskJump</a>(stockStepper, supplyRecord, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fa679ee5320d66c8322e310daeb2ee99b8">STOP</a>);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[stockTopButton]-&gt;<a class="code" href="class_c_c_control_button.html#aaea17910824f32dd7d4019fac0c87a03">evokeTaskJumpToTask</a>(liftServo, liftFromParkPosition, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fa64baf9079dcae76e9cda85f0c46949df">STOP_SHARP_AND_SWITCH</a>, lowerForParkPosition + 1);</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[stockTopButton]-&gt;<a class="code" href="class_c_c_control_button.html#aaea17910824f32dd7d4019fac0c87a03">evokeTaskJumpToTask</a>(turnServo, turnRecordToTable, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fa64baf9079dcae76e9cda85f0c46949df">STOP_SHARP_AND_SWITCH</a>, turnToStockPosition + 1);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a095c5847ccf757a09bf41512fe57802b">getAllTasks</a>();</div><div class="line">        fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a4b7756c59896f6ddcb2e7708d0fac745">getAllActions</a>();</div><div class="line"></div><div class="line"></div><div class="line">        freeRam();</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// ================================================================================================================================</span></div><div class="line">    <span class="comment">// ============= create cuttingProcess scheduler object: ==========================================================================</span></div><div class="line">    <span class="comment">// ================================================================================================================================</span></div><div class="line"></div><div class="line">    cuttingProcess = <span class="keyword">new</span> <a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>(<span class="stringliteral">&quot;cuttingProcess&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= devices of cuttingProcess: ===================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> catStepper = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#aafa59b93edf5380456f51142d17079b2">addStepper_TMC260</a>(<a class="code" href="voice_o_graph_8h.html#a1e7a085a9da7fd53cf053b586c380718">STEPPER_CAT_NAME</a>,</div><div class="line">                                                                       <a class="code" href="voice_o_graph_8h.html#a0fbf4192dc87fb7d5739c002d9283bb6">STEPPER_CAT_STEP_PIN</a>,</div><div class="line">                                                                       <a class="code" href="voice_o_graph_8h.html#a03c92b4f69f770d594c1b60fa7cb878b">STEPPER_CAT_DIR_PIN</a>,</div><div class="line">                                                                       <a class="code" href="voice_o_graph_8h.html#ab10854a52441abd952c843836970f5a5">STEPPER_CAT_ENABLE_PIN</a>,</div><div class="line">                                                                       <a class="code" href="voice_o_graph_8h.html#a2bf0e4ddcec0e3c1d0a67e6aaef88ead">STEPPER_CAT_CHIPSELECT_PIN</a>,</div><div class="line">                                                                       <a class="code" href="voice_o_graph_8h.html#ac025c34ada28499f2a8f80003ef2dc97">STEPPER_CAT_CURRENT</a>,</div><div class="line">                                                                       <a class="code" href="voice_o_graph_8h.html#a795244b08d6eab13c9c8cff8098ee3c9">STEPPER_CAT_STEPS_PER_ROTATION</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a95580629d12e0a7bed5b1e0ff8fa755b">CAT_SPEED_HIGH</a>, <a class="code" href="voice_o_graph_8h.html#aa607ecf76abb41572956668e9ce39bc4">CAT_ACCEL_HIGH</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> tableStepper = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a574d438dc61cbed9c81aacc68ceba96e">addStepper_A4988</a>(<a class="code" href="voice_o_graph_8h.html#a3bb33428a94f5e6d24bb12fa2cf822ba">STEPPER_TABLE_NAME</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a32be260c44f2e5034b08a4a9d3c358e7">STEPPER_TABLE_STEP_PIN</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a3297162095ccd665261382c13e8ac0f5">STEPPER_TABLE_DIR_PIN</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#abdbca8b6a1e51e1d161b6d6d90a4f26c">STEPPER_TABLE_ENABLE_PIN</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a1b65709c246fc0530bc1c52f15ee09b7">STEPPER_TABLE_HIGHEST_STEPPINGMODE</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#af2e7602a2e6cc110f0514ec21e797777">STEPPER_TABLE_STEPMODECODES</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#a39a27b60baadfd8d1d8bf21dfcd95e20">STEPPER_TABLE_MICROSTEPPINS</a>,</div><div class="line">                                                                        <a class="code" href="voice_o_graph_8h.html#ab1abcb91bb9f2dc57d44a2638e226f64">STEPPER_TABLE_STEPS_PER_ROTATION</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> headLeftServo = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#aa63c135023ccce2973a935764941538f">addServo</a>(<a class="code" href="voice_o_graph_8h.html#a62c9256e32d50fb50dbde83d5237f7b4">SERVO_HEAD_LEFT_NAME</a>,</div><div class="line">                                                                 <a class="code" href="voice_o_graph_8h.html#ae47d6fb0be92c092d465587302b9cb7d">SERVO_HEAD_LEFT_PIN</a>,</div><div class="line">                                                                 <a class="code" href="voice_o_graph_8h.html#a384213179781815e4349d4d118ddb66a">SERVO_HEAD_LEFT_MIN_POSITION</a>,</div><div class="line">                                                                 <a class="code" href="voice_o_graph_8h.html#aa67a5a4624adcfa30aca1677b9621882">SERVO_HEAD_LEFT_MAX_POSITION</a>,</div><div class="line">                                                                 <a class="code" href="voice_o_graph_8h.html#a13f64fe860349c5139a8109e7856dc2d">HEAD_LEFT_PARK_POSITION</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> headRightServo = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#aa63c135023ccce2973a935764941538f">addServo</a>(<a class="code" href="voice_o_graph_8h.html#acdc193489e1a5e659243c9610fd9fc53">SERVO_HEAD_RIGHT_NAME</a>,</div><div class="line">                                                                  <a class="code" href="voice_o_graph_8h.html#a151eb770b03027db328b90696d276e1b">SERVO_HEAD_RIGHT_PIN</a>,</div><div class="line">                                                                  <a class="code" href="voice_o_graph_8h.html#a9b03a3b5d490b6ae722260d521a6d7f7">SERVO_HEAD_RIGHT_MIN_POSITION</a>,</div><div class="line">                                                                  <a class="code" href="voice_o_graph_8h.html#ac32296cea3b9cd484b7edfe9eaadd35a">SERVO_HEAD_RIGHT_MAX_POSITION</a>,</div><div class="line">                                                                  <a class="code" href="voice_o_graph_8h.html#ac3bcfb2f35c85cb731bac558a3bec28b">HEAD_RIGHT_PARK_POSITION</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> bridgeParkButton = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#a58f9e7a98acdcc77bf445a00bf750385">CAT_PARKBUTTON_NAME</a>,</div><div class="line">                                                                                   <a class="code" href="voice_o_graph_8h.html#a1b2059eb44640e3959503dec465803b5">CAT_PARKBUTTON_PIN</a>,</div><div class="line">                                                                                   <a class="code" href="voice_o_graph_8h.html#a0643a355aa53794f0f176420a456134f">CAT_PARKBUTTON_ACTIV</a>,</div><div class="line">                                                                                   <a class="code" href="voice_o_graph_8h.html#a43a4cc66b835beebe04635157de8afa0">CAT_PARKBUTTON_PULLUP</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> bridgeEndButton = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#ae738e26b73da37e94da025961495d805">CAT_ENDBUTTON_NAME</a>,</div><div class="line">                                                                                  <a class="code" href="voice_o_graph_8h.html#a158363fb5fcc383ac9a28cbfc22cc324">CAT_ENDBUTTON_PIN</a>,</div><div class="line">                                                                                  <a class="code" href="voice_o_graph_8h.html#a14b477663ddc60544bf6a4868f63049d">CAT_ENDBUTTON_ACTIV</a>,</div><div class="line">                                                                                  <a class="code" href="voice_o_graph_8h.html#ab634f3a4a2af5d52085a3e7481164577">CAT_ENDBUTTON_PULLUP</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> songEndButton = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#ac216d7b8bdffdcbaa4614f8f306da7fe">SONG_ENDBUTTON_NAME</a>,</div><div class="line">                                                                                <a class="code" href="voice_o_graph_8h.html#a70a8a57724c685dadd0a5c2d20225a98">SONG_ENDBUTTON_PIN</a>,</div><div class="line">                                                                                <a class="code" href="voice_o_graph_8h.html#ad8cf8126d2c13d3d0c170b1dcecc6d53">SONG_ENDBUTTON_ACTIV</a>,</div><div class="line">                                                                                <a class="code" href="voice_o_graph_8h.html#a68443db55671e585e2fa37052e9cfef7">SONG_ENDBUTTON_PULLUP</a>);</div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> songCancelButton = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<a class="code" href="voice_o_graph_8h.html#a112db4cf2de540bb1c26ee8806313348">SONG_CANCELBUTTON_NAME</a>,</div><div class="line">                                                                                   <a class="code" href="voice_o_graph_8h.html#a483bcccc316fdf5ab8d6cca64a222e2c">SONG_CANCELBUTTON_PIN</a>,</div><div class="line">                                                                                   <a class="code" href="voice_o_graph_8h.html#ae7476df35edeb6f0068378940085607f">SONG_CANCELBUTTON_ACTIV</a>,</div><div class="line">                                                                                   <a class="code" href="voice_o_graph_8h.html#a2e41e509956df661577b5d1515616332">SONG_CANCELBUTTON_PULLUP</a>);</div><div class="line"></div><div class="line"></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#aba6aefa93793d483bcba0bccff20da75">getAllDevices</a>();</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a8852e0c0181ab959c6bc0d863353dd71">getAllControlButtons</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= initialisation of cuttingProcess: =====================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        Serial.println(<span class="stringliteral">&quot;................................. initialisation of catStepper ...................................&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> initCatStepper = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a3bb0ee2f618ec6316e0857de8f26b776">addTaskWithPositionReset</a>(-400000);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[initCatStepper]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(100);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[initCatStepper]-&gt;<a class="code" href="class_c_c_task.html#a8e26a5db883bbb72d1dee6a24c5adbba">stopByButton</a>(bridgeParkButton, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a095c5847ccf757a09bf41512fe57802b">getAllTasks</a>();</div><div class="line"></div><div class="line"></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line"></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#aa4b0c1acaff908eeb2362c4faabf0302">setCurrentPosition</a>(0.0);</div><div class="line"></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a0b5a165314803618046b07cf637aa14b">deleteAllTasks</a>();</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a37f83a8c566b6da623f63a6c46eedb21">deleteAllActions</a>();</div><div class="line"></div><div class="line"></div><div class="line">        Serial.println(<span class="stringliteral">&quot;...................................... done ......................................................&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= tasks of cuttingProcess: =====================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <span class="comment">//  move to start groove:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> driveToCuttingStartPosition = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a65026c4ddcb978085f689a42de579221">CAT_CUTTING_START_POSITION</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToCuttingStartPosition]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(100);</div><div class="line"></div><div class="line">        <span class="comment">//  turn the table:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> turnTheTable = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[tableStepper]-&gt;<a class="code" href="class_c_c_device.html#a3bb0ee2f618ec6316e0857de8f26b776">addTaskWithPositionReset</a>(turnTableStepperDegrees + 7200.0, turnTableStepperSpeed, <a class="code" href="voice_o_graph_8h.html#ac111d7db8684022da12c8afaa5a04ac9">TABLE_STEP_ACCEL</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[tableStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnTheTable]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(catStepper, driveToCuttingStartPosition, <a class="code" href="voice_o_graph_8h.html#a65026c4ddcb978085f689a42de579221">CAT_CUTTING_START_POSITION</a> - 10000);</div><div class="line"></div><div class="line">        <span class="comment">//  lower head close to record surface (left servo): start when reached start position of start groove</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerHeadLeftForCutting = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headLeftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a6515948ad08e970855266844e29033f7">HEAD_LEFT_CUT_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a8aace30cd9b69701771df869809265cd">LIFT_SPEED_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#a3aaf2b341424c8529c4d61e4dce527d0">LIFT_ACCEL_SLOW</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headLeftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerHeadLeftForCutting]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(catStepper, driveToCuttingStartPosition);</div><div class="line"></div><div class="line">        <span class="comment">//  approximate head to record surface (right servo): start when left servo reached cutting position</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> approximateHeadRightForCutting = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headRightServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a208ea4d73b8e90444c2e934b3935b206">HEAD_RIGHT_CUT_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a1605a33747d6a8b2ae09aa98ac85f119">LIFT_SPEED_VERY_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#ae193785e7d591cca99c15b1e67db7727">LIFT_ACCEL_VERY_SLOW</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headRightServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[approximateHeadRightForCutting]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(catStepper, driveToCuttingStartPosition);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headRightServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[approximateHeadRightForCutting]-&gt;<a class="code" href="class_c_c_task.html#acab960742fc26207a74882a9b0452965">stopDynamicallyBySensor</a>(<a class="code" href="voice_o_graph_8h.html#a92791f2358f5828cabd1b9d0fb7c765a">HEAD_INCLINATION_SENSOR</a>, 600, 460, 0.6, <a class="code" href="device_scheduler_8h.html#abb664f16e10d899b378c70b8c4643210a47af37576db66b8adcd894d5d3e5ddd7">SKIP_APPROXIMATION_PRECISE</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  make start groove:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> makeStartGroove = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(catCuttingEndPosition, catMotorSpeed_startGroove, <a class="code" href="voice_o_graph_8h.html#aed8df0605d02dda82bc95a54f06caf6b">CAT_ACCEL_SLOW</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[makeStartGroove]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(headRightServo, approximateHeadRightForCutting);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[makeStartGroove]-&gt;<a class="code" href="class_c_c_task.html#a9d761c61b2f0a792fc64e7d2caaa033e">switchToNextTaskByTriggerpositionOf</a>(catStepper, makeStartGroove, catSongStartPosition);</div><div class="line"></div><div class="line">        <span class="comment">//  make song groove:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> makeMainGroove = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(catCuttingEndPosition, catMotorSpeed_song, <a class="code" href="voice_o_graph_8h.html#aed8df0605d02dda82bc95a54f06caf6b">CAT_ACCEL_SLOW</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[makeMainGroove]-&gt;<a class="code" href="class_c_c_task.html#a9d761c61b2f0a792fc64e7d2caaa033e">switchToNextTaskByTriggerpositionOf</a>(catStepper, makeMainGroove, catSongEndPosition);</div><div class="line"></div><div class="line">        <span class="comment">//  make end groove:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> makeEndGroove = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(catCuttingEndPosition, catMotorSpeed_endGroove, <a class="code" href="voice_o_graph_8h.html#ac6c925ca192c398919ca576e6cfdb10b">CAT_ACCEL_NORMAL</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  lift head after cutting above the record surface:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftHeadRightAfterCutting = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headRightServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ac3bcfb2f35c85cb731bac558a3bec28b">HEAD_RIGHT_PARK_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a3aaf2b341424c8529c4d61e4dce527d0">LIFT_ACCEL_SLOW</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headRightServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftHeadRightAfterCutting]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(catStepper, makeEndGroove);</div><div class="line"></div><div class="line">        <span class="comment">//  lift head into park position:</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftHeadLeftAfterCutting = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headLeftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a13f64fe860349c5139a8109e7856dc2d">HEAD_LEFT_PARK_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a3aaf2b341424c8529c4d61e4dce527d0">LIFT_ACCEL_SLOW</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[headLeftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftHeadLeftAfterCutting]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(headRightServo, liftHeadRightAfterCutting);</div><div class="line"></div><div class="line">        <span class="comment">//  switch off turn table</span></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[tableStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnTheTable]-&gt;<a class="code" href="class_c_c_task.html#ae18c5a997920abf5431da4f29cc30827">stopAfterCompletionOf</a>(headRightServo, liftHeadRightAfterCutting, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  drive cat back home</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> driveToParkPosition = cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ae355c5ef387f945f6d24fbb4f09baf1d">CAT_PARK_POSITION</a>);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToParkPosition]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(headRightServo, liftHeadRightAfterCutting);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToParkPosition]-&gt;<a class="code" href="class_c_c_task.html#a8e26a5db883bbb72d1dee6a24c5adbba">stopByButton</a>(bridgeParkButton, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">//  jump over to end groove if songEndButton is pressed</span></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[songEndButton]-&gt;<a class="code" href="class_c_c_control_button.html#aaea17910824f32dd7d4019fac0c87a03">evokeTaskJumpToTask</a>(catStepper, makeMainGroove, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fafd0edba01824bda61f8fcb0593c9019a">STOP_AND_SWITCH</a>, makeEndGroove);</div><div class="line"></div><div class="line">        <span class="comment">//  cancel cutting if songCancelButton is pressed</span></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[songCancelButton]-&gt;<a class="code" href="class_c_c_control_button.html#aaea17910824f32dd7d4019fac0c87a03">evokeTaskJumpToTask</a>(catStepper, makeStartGroove, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fafd0edba01824bda61f8fcb0593c9019a">STOP_AND_SWITCH</a>, driveToParkPosition);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[songCancelButton]-&gt;<a class="code" href="class_c_c_control_button.html#aaea17910824f32dd7d4019fac0c87a03">evokeTaskJumpToTask</a>(catStepper, makeMainGroove, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fafd0edba01824bda61f8fcb0593c9019a">STOP_AND_SWITCH</a>, driveToParkPosition);</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a56cd855fee695361789422ddc769dd2c">controlButton</a>[songCancelButton]-&gt;<a class="code" href="class_c_c_control_button.html#ac8b54a9a471c0aaa16a32acd1a800f8b">evokeTaskJump</a>(catStepper, makeEndGroove, <a class="code" href="device_scheduler_8h.html#a46e69191c64a1194a22bc13d7e77263fa679ee5320d66c8322e310daeb2ee99b8">STOP</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a095c5847ccf757a09bf41512fe57802b">getAllTasks</a>();</div><div class="line">        cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a4b7756c59896f6ddcb2e7708d0fac745">getAllActions</a>();</div><div class="line"></div><div class="line"></div><div class="line">        freeRam();</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// ================================================================================================================================</span></div><div class="line">    <span class="comment">// ============= create ejectingRecord scheduler object: ==========================================================================</span></div><div class="line">    <span class="comment">// ================================================================================================================================</span></div><div class="line"></div><div class="line">    ejectingRecord = <span class="keyword">new</span> <a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>(<span class="stringliteral">&quot;ejectingRecord&quot;</span>);</div><div class="line"></div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= devices of ejectingRecord: ===================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> liftServo = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#af0f4f3774a58dd92df9d45d11b5ae974">addServoWithCounterServo</a>(<a class="code" href="voice_o_graph_8h.html#a0a85236607721bb3c9802dd2f2ed86a5">SERVO_LIFT_NAME</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a3263ecb8451b57fd16c52d3164401e83">SERVO_LIFT_LEFT_PIN</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a5c70a913b4d1d42fdf56205099ef93e1">SERVO_LIFT_LEFT_MIN_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a66df53f7bd85c2c5af0d6d744b9e517b">SERVO_LIFT_LEFT_MID_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#aa071acbf309ba2aa1dc90fa5f710e3f6">SERVO_LIFT_LEFT_MAX_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a48a2dc088572e38537a785783785bbf8">SERVO_LIFT_RIGHT_PIN</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a1a11b0e118bb6965c6210902a3d1a075">SERVO_LIFT_RIGHT_MIN_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#acc77c2ad428a5b4401cefceccf163ff2">SERVO_LIFT_RIGHT_MID_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#af5c5bd1726280ebe880c6e0acdbe7ee3">SERVO_LIFT_RIGHT_MAX_POSITION</a>,</div><div class="line">                                                                             <a class="code" href="voice_o_graph_8h.html#a17aa51a7e69184c7b66d1ba16ce5091c">LIFT_PARK_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a8aace30cd9b69701771df869809265cd">LIFT_SPEED_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#a3aaf2b341424c8529c4d61e4dce527d0">LIFT_ACCEL_SLOW</a>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> turnServo = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#aa63c135023ccce2973a935764941538f">addServo</a>(<a class="code" href="voice_o_graph_8h.html#af8f685fb9cd75e233c5751ec196c86cf">SERVO_TURN_NAME</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#ae32e485bb1480eef2def565598e2ca23">SERVO_TURN_PIN</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a6c0c287944cda1088e9fcf388ac7b7bd">SERVO_TURN_MIN_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#ab3a57da8611ea208a5c35c0613582081">SERVO_TURN_MAX_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a67ca1e0ae8e1f063920cb7beca8d4299">TURN_STOCK_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a51bcf8b0e667a503cbf699d2b5ddbb82">TURN_SPEED_SLOW</a>, <a class="code" href="voice_o_graph_8h.html#a566bfaeac14b7e0ac53a61f161b5d6d9">TURN_ACCEL_SLOW</a>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> pumpServo = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#aa63c135023ccce2973a935764941538f">addServo</a>(<a class="code" href="voice_o_graph_8h.html#afc02cb24c55e6686b1f7d8b68352a516">SERVO_PUMP_NAME</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#acf5d129a9f18371e6d86eec8f6abcb09">SERVO_PUMP_PIN</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a16ab05d8a4bab7d1f46214468ea63bb6">SERVO_PUMP_MIN_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a1929316435a78aaefc83146a9187f3ee">SERVO_PUMP_MAX_POSITION</a>,</div><div class="line">                                                             <a class="code" href="voice_o_graph_8h.html#a28626fa7151d1853fb434571d2d28809">PUMP_PARK_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#abef707d92b6c693ef200612a58859e5b">PUMP_SPEED</a>, <a class="code" href="voice_o_graph_8h.html#a62b6c62f5c1a1630f67bc26783e065af">PUMP_ACCEL</a>);</div><div class="line"></div><div class="line"></div><div class="line">        <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> conveyStepper = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a574d438dc61cbed9c81aacc68ceba96e">addStepper_A4988</a>(<a class="code" href="voice_o_graph_8h.html#a86ad2a8fd08d66fea2c6e865196f2f35">STEPPER_CONVEYOR_NAME</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#ab0e3f2f0a25e58654e58bd1ef01cf396">STEPPER_CONVEYOR_STEP_PIN</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#aeb2fffe8d1eef47d424f1f06a0e6550b">STEPPER_CONVEYOR_DIR_PIN</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#a44aa2984fe44d46d531031e4e3f974a0">STEPPER_CONVEYOR_ENABLE_PIN</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#a1833daddcd9cdc65d4cf1e4b47d37370">STEPPER_CONVEYOR_HIGHEST_STEPPINGMODE</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#aa80326a33cc58d58719fb19bdba709c9">STEPPER_CONVEYOR_STEPMODECODES</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#a002d8a87d2274c105319f8be4af195e8">STEPPER_CONVEYOR_MICROSTEPPINS</a>,</div><div class="line">                                                                         <a class="code" href="voice_o_graph_8h.html#af514d23c67984ef0b2ee2e07cbd4dcfd">STEPPER_CONVEYOR_STEPS_PER_ROTATION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[conveyStepper]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a68b6d4edccc60d7bc9121532f3c3620a">CONVEYOR_SPEED</a>, <a class="code" href="voice_o_graph_8h.html#a75169423833312af2bc218984d66b0d0">CONVEYOR_ACCEL</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#aba6aefa93793d483bcba0bccff20da75">getAllDevices</a>();</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a8852e0c0181ab959c6bc0d863353dd71">getAllControlButtons</a>();</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= initialisation of ejectingRecord: ============================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <span class="comment">//  not needed</span></div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line">        <span class="comment">// ============= tasks of ejectingRecord: =====================================================================================</span></div><div class="line">        <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line">        <span class="comment">//  remove record from turntable: started after cuttingProcess is finished</span></div><div class="line"></div><div class="line">        <span class="comment">// lift grappler: start when cuttingProcess is finished</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftFromParkPosition = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a6f701e4732bb1351d7498e5bbc7c0b6b">LIFT_UP_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a8a0781daa7bd04dc93c4f78138fed27f">LIFT_ACCEL_FAST</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftFromParkPosition]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(100);</div><div class="line"></div><div class="line">        <span class="comment">//  turn grappler to turn table: start when lifting reached triggerPosition (LIFT_UP_TRIGGER_TURN)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> turnToTable = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a7db71ae8657099c8790a654ffec28e15">TURN_TABLE_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a3938b0d3e6491d375a6bed7d57dd5f87">TURN_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a9ea2c092d6413f6eda2e3b6a2ca5931d">TURN_ACCEL_FAST</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnToTable]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(liftServo, liftFromParkPosition, <a class="code" href="voice_o_graph_8h.html#af25d342159dfc1b80db81db0c7bbfc7c">LIFT_UP_TRIGGER_TURN</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  lower grappler to turn table: start when turning reached trigger position (TURN_TO_TABLE_TRIGGER_LIFT)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerToTable = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a5cbaea04fb70bc6909c72860942d2574">LIFT_TABLE_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a8a0781daa7bd04dc93c4f78138fed27f">LIFT_ACCEL_FAST</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerToTable]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(turnServo, turnToTable, <a class="code" href="voice_o_graph_8h.html#a1ae60a581d9d5c8f6364421c79953e62">TURN_TO_TABLE_TRIGGER_LIFT</a>);</div><div class="line"></div><div class="line">        <span class="comment">// pump prepare</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForGrip_down = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ad9c48b010ef33f3d35827900b1a4ae74">PUMP_DOWN_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForGrip_down]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, lowerToTable);</div><div class="line"></div><div class="line">        <span class="comment">// pump make vaccum</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForGrip_up = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a28626fa7151d1853fb434571d2d28809">PUMP_PARK_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForGrip_up]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(pumpServo, pumpForGrip_down);</div><div class="line"></div><div class="line">        <span class="comment">//  lift the cutted record: start with startDelay after table was reached (LIFT_TABLE_POSITION)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftCuttedRecord = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a6f701e4732bb1351d7498e5bbc7c0b6b">LIFT_UP_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftCuttedRecord]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(pumpServo, pumpForGrip_up);</div><div class="line"></div><div class="line">        <span class="comment">//  turn grappler to conveyer position: start when lifting reached triggerPosition (LIFT_UP_TRIGGER_TURN)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> turnToConveyor = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#aa313badc823de24eec6fad64d8489619">TURN_CONVEYOR_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnToConveyor]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(liftServo, liftCuttedRecord, <a class="code" href="voice_o_graph_8h.html#af25d342159dfc1b80db81db0c7bbfc7c">LIFT_UP_TRIGGER_TURN</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  lower grappler to conveyer position: start when turning reached trigger position (TURN_TO_PARK_TRIGGER_LIFT)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerToConveyor = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#afd6c3f19eb100f70597e1231cff51249">LIFT_CONVEYER_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerToConveyor]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(turnServo, turnToConveyor, <a class="code" href="voice_o_graph_8h.html#afe6162a98f2a894808b047d98273b8b5">TURN_TO_CONVEYER_TRIGGER_LIFT</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  release new record, release vacuum</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForRelease_down = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ad9c48b010ef33f3d35827900b1a4ae74">PUMP_DOWN_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForRelease_down]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, lowerToConveyor);</div><div class="line"></div><div class="line">        <span class="comment">//  lift for parking</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> liftForParkPosition = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a6f701e4732bb1351d7498e5bbc7c0b6b">LIFT_UP_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a8a0781daa7bd04dc93c4f78138fed27f">LIFT_ACCEL_FAST</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[liftForParkPosition]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, lowerToConveyor);</div><div class="line"></div><div class="line">        <span class="comment">//  move it to the user</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> driveIt = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[conveyStepper]-&gt;<a class="code" href="class_c_c_device.html#a3bb0ee2f618ec6316e0857de8f26b776">addTaskWithPositionReset</a>(<a class="code" href="voice_o_graph_8h.html#ad0b45618af7a3560e4dc111fe00420e3">CONVEYOR_DISTANCE</a>, <a class="code" href="voice_o_graph_8h.html#a68b6d4edccc60d7bc9121532f3c3620a">CONVEYOR_SPEED</a>, <a class="code" href="voice_o_graph_8h.html#a75169423833312af2bc218984d66b0d0">CONVEYOR_ACCEL</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[conveyStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveIt]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, liftForParkPosition);</div><div class="line"></div><div class="line">        <span class="comment">//  release pump</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> pumpForRelease_up = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a28626fa7151d1853fb434571d2d28809">PUMP_PARK_POSITION</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[pumpServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[pumpForRelease_up]-&gt;<a class="code" href="class_c_c_task.html#a83a11312213325b790874abe21f6aa2d">startAfterCompletionOf</a>(liftServo, liftForParkPosition);</div><div class="line"></div><div class="line">        <span class="comment">//  turn grappler for parking</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> turnToStock = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a67ca1e0ae8e1f063920cb7beca8d4299">TURN_STOCK_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a3938b0d3e6491d375a6bed7d57dd5f87">TURN_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a9ea2c092d6413f6eda2e3b6a2ca5931d">TURN_ACCEL_FAST</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[turnServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[turnToStock]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(liftServo, liftForParkPosition, <a class="code" href="voice_o_graph_8h.html#af25d342159dfc1b80db81db0c7bbfc7c">LIFT_UP_TRIGGER_TURN</a>);</div><div class="line"></div><div class="line">        <span class="comment">//  lower grappler to stock: start when turning reached trigger position (TURN_TO_STOCK_TRIGGER_LIFT)</span></div><div class="line">        <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> lowerToPark = ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a17aa51a7e69184c7b66d1ba16ce5091c">LIFT_PARK_POSITION</a>, <a class="code" href="voice_o_graph_8h.html#a946d3c3e74d9b69c6c95a88ae5d626b6">LIFT_SPEED_FAST</a>, <a class="code" href="voice_o_graph_8h.html#a8a0781daa7bd04dc93c4f78138fed27f">LIFT_ACCEL_FAST</a>);</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[liftServo]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[lowerToPark]-&gt;<a class="code" href="class_c_c_task.html#ae7a9a744500dc3e79b1fdc3ca9bbf49a">startByTriggerpositionOf</a>(turnServo, turnToStock, <a class="code" href="voice_o_graph_8h.html#a5a7a279583c30a219af7bf096dae42cc">TURN_TO_STOCK_TRIGGER_LIFT</a>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a095c5847ccf757a09bf41512fe57802b">getAllTasks</a>();</div><div class="line">        ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a4b7756c59896f6ddcb2e7708d0fac745">getAllActions</a>();</div><div class="line"></div><div class="line"></div><div class="line">        freeRam();</div><div class="line"></div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">// ============================================================================================================================</span></div><div class="line">    <span class="comment">// ============================================================================================================================</span></div><div class="line">    <span class="comment">// ============= operation: ===================================================================================================</span></div><div class="line">    <span class="comment">// ============================================================================================================================</span></div><div class="line">    <span class="comment">// ============================================================================================================================</span></div><div class="line"></div><div class="line"></div><div class="line">    Serial.println(F(<span class="stringliteral">&quot;ready to run!&quot;</span>));</div><div class="line"></div><div class="line">    <span class="keywordtype">boolean</span> initNeeded = <span class="keyword">false</span>;</div><div class="line">    <span class="keywordflow">while</span> (!initNeeded) {</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#a6864348b62200f1206999dfef96c63d8">FETCH_RECORD_BUTTON</a>) == LOW) {</div><div class="line"></div><div class="line">            fetchingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line"></div><div class="line">        }</div><div class="line"></div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#a9d8ba12812e628c0bb79736650d9868e">START_CUTTING_BUTTON</a>) == LOW) {</div><div class="line"></div><div class="line">            cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line"></div><div class="line">            ejectingRecord-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line"></div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#aabcf66983ed5edb9c7492478805f68b9">MOVE_MANUALLY_SWITCH</a>) == LOW) {</div><div class="line">            {</div><div class="line">                <a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a> *manualDrive = <span class="keyword">new</span> <a class="code" href="class_c_c_device_scheduler.html">CCDeviceScheduler</a>(<span class="stringliteral">&quot;manualDrive&quot;</span>);</div><div class="line"></div><div class="line">                <a class="code" href="device_scheduler_8h.html#a47bba564f12254766f966aa6e7beec94">schedulerDevice</a> catStepper = manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#aafa59b93edf5380456f51142d17079b2">addStepper_TMC260</a>(<a class="code" href="voice_o_graph_8h.html#a1e7a085a9da7fd53cf053b586c380718">STEPPER_CAT_NAME</a>,</div><div class="line">                                                                            <a class="code" href="voice_o_graph_8h.html#a0fbf4192dc87fb7d5739c002d9283bb6">STEPPER_CAT_STEP_PIN</a>,</div><div class="line">                                                                            <a class="code" href="voice_o_graph_8h.html#a03c92b4f69f770d594c1b60fa7cb878b">STEPPER_CAT_DIR_PIN</a>,</div><div class="line">                                                                            <a class="code" href="voice_o_graph_8h.html#ab10854a52441abd952c843836970f5a5">STEPPER_CAT_ENABLE_PIN</a>,</div><div class="line">                                                                            <a class="code" href="voice_o_graph_8h.html#a2bf0e4ddcec0e3c1d0a67e6aaef88ead">STEPPER_CAT_CHIPSELECT_PIN</a>,</div><div class="line">                                                                            <a class="code" href="voice_o_graph_8h.html#ac025c34ada28499f2a8f80003ef2dc97">STEPPER_CAT_CURRENT</a>,</div><div class="line">                                                                            <a class="code" href="voice_o_graph_8h.html#a795244b08d6eab13c9c8cff8098ee3c9">STEPPER_CAT_STEPS_PER_ROTATION</a>);</div><div class="line">                manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ac39a5ee9dda66b04431317ecbb586106">defineDefaults</a>(<a class="code" href="voice_o_graph_8h.html#a95580629d12e0a7bed5b1e0ff8fa755b">CAT_SPEED_HIGH</a>, <a class="code" href="voice_o_graph_8h.html#aa607ecf76abb41572956668e9ce39bc4">CAT_ACCEL_HIGH</a>);</div><div class="line"></div><div class="line">                <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> catForwardButton = manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<span class="stringliteral">&quot;catForward&quot;</span>, <a class="code" href="voice_o_graph_8h.html#a7edf0d0367a5722e59fb3c78910b27a9">MOVE_CAT_FWD_BUTTON</a>, HIGH, <span class="keyword">true</span>);</div><div class="line">                <a class="code" href="device_scheduler_8h.html#a8d74f153ed25266e8a496ae116890af0">schedulerControlButton</a> catRewindButton = manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a95fd3f38dfa9675a4cb101d6dbcad478">addControlButton</a>(<span class="stringliteral">&quot;catRewind&quot;</span>, <a class="code" href="voice_o_graph_8h.html#acb8492036eb5caea42aad27dfa515487">MOVE_CAT_RWD_BUTTON</a>, HIGH, <span class="keyword">true</span>);</div><div class="line"></div><div class="line"></div><div class="line">                <span class="comment">//  move to start groove:</span></div><div class="line">                <a class="code" href="device_scheduler_8h.html#ae5841fd44d6e01bbac6e04706ff5c9db">scheduledTask</a> driveToCuttingStartPositionMan = manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#a65026c4ddcb978085f689a42de579221">CAT_CUTTING_START_POSITION</a>);</div><div class="line">                manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToCuttingStartPositionMan]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(100);</div><div class="line"></div><div class="line">                manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">                manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line">                manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a0b5a165314803618046b07cf637aa14b">deleteAllTasks</a>();</div><div class="line"></div><div class="line">                <span class="keywordflow">while</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#a9d8ba12812e628c0bb79736650d9868e">START_CUTTING_BUTTON</a>) == HIGH) {</div><div class="line">                    <span class="keywordflow">if</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#a7edf0d0367a5722e59fb3c78910b27a9">MOVE_CAT_FWD_BUTTON</a>) == LOW) {</div><div class="line">                        driveToCuttingStartPositionMan = manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(catCuttingEndPosition);</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToCuttingStartPositionMan]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(10);</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToCuttingStartPositionMan]-&gt;<a class="code" href="class_c_c_task.html#a8e26a5db883bbb72d1dee6a24c5adbba">stopByButton</a>(catForwardButton, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a0b5a165314803618046b07cf637aa14b">deleteAllTasks</a>();</div><div class="line">                    }</div><div class="line">                    <span class="keywordflow">if</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#acb8492036eb5caea42aad27dfa515487">MOVE_CAT_RWD_BUTTON</a>) == LOW) {</div><div class="line">                        driveToCuttingStartPositionMan = manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#a0a43fd705fa745b4d6fc5299d644cead">addTask</a>(<a class="code" href="voice_o_graph_8h.html#ae355c5ef387f945f6d24fbb4f09baf1d">CAT_PARK_POSITION</a>);</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToCuttingStartPositionMan]-&gt;<a class="code" href="class_c_c_task.html#a73858c361f70e0395e98d01ff34bba36">startByDate</a>(10);</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[catStepper]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[driveToCuttingStartPositionMan]-&gt;<a class="code" href="class_c_c_task.html#a8e26a5db883bbb72d1dee6a24c5adbba">stopByButton</a>(catRewindButton, <a class="code" href="device_scheduler_8h.html#a82b311bea6cf44d0e38e302ad9457af9a912a5244b1552dfb596bfbc3bb124bc0">STOP_NORMAL</a>);</div><div class="line"></div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a29eed8510e46a5d0843a218d405cd688">reviewTasks</a>();</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line">                        manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#a0b5a165314803618046b07cf637aa14b">deleteAllTasks</a>();</div><div class="line">                    }</div><div class="line">                }</div><div class="line"></div><div class="line"></div><div class="line">                cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[0]-&gt;<a class="code" href="class_c_c_device.html#aa4b0c1acaff908eeb2362c4faabf0302">setCurrentPosition</a>(manualDrive-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[0]-&gt;<a class="code" href="class_c_c_device.html#a829cc215985ebad2a8f1641d957aa7d0">getCurrentPosition</a>());</div><div class="line">                cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[0]-&gt;<a class="code" href="class_c_c_device.html#a25582bb444e8f3d964530b8fd347cd7b">increaseTaskPointer</a>();</div><div class="line">                cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line"></div><div class="line">                <span class="keyword">delete</span> manualDrive;</div><div class="line">                manualDrive = NULL;</div><div class="line"></div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#a8b46b42d1bdf2a0fdd59d2415be56668">MATCH_HEADIMPACT_SWITCH</a>) == LOW) {</div><div class="line"></div><div class="line">            cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[0]-&gt;<a class="code" href="class_c_c_device.html#a98bdd7ab8ad97767d8b3064c2318f5ae">setCountOfTasks</a>(0);</div><div class="line">            cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[1]-&gt;<a class="code" href="class_c_c_device.html#a98bdd7ab8ad97767d8b3064c2318f5ae">setCountOfTasks</a>(0);</div><div class="line">            cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#ac229f37760c102a68df7cb4b8af59563">device</a>[3]-&gt;<a class="code" href="class_c_c_device.html#ab03673bce565647d51c345db9cc96686">task</a>[1]-&gt;<a class="code" href="class_c_c_task.html#a4210274fc91b333e0cfe1c0f830d9ab9">setStartDelay</a>(3000);</div><div class="line"></div><div class="line">            <span class="keywordflow">while</span> (digitalRead(<a class="code" href="voice_o_graph_8h.html#a8b46b42d1bdf2a0fdd59d2415be56668">MATCH_HEADIMPACT_SWITCH</a> == LOW)) {</div><div class="line"></div><div class="line">                cuttingProcess-&gt;<a class="code" href="class_c_c_device_scheduler.html#a55be212e5303af5995ca94e4421396eb">run</a>();</div><div class="line"></div><div class="line">                delay(3000);</div><div class="line"></div><div class="line">            }</div><div class="line">            initNeeded = <span class="keyword">true</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    delay(2000);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keyword">delete</span> fetchingRecord;</div><div class="line">    fetchingRecord = NULL;</div><div class="line"></div><div class="line">    <span class="keyword">delete</span> cuttingProcess;</div><div class="line">    cuttingProcess = NULL;</div><div class="line"></div><div class="line">    <span class="keyword">delete</span> ejectingRecord;</div><div class="line">    ejectingRecord = NULL;</div><div class="line"></div><div class="line"></div><div class="line">    freeRam();</div><div class="line"></div><div class="line">    delay(2000);</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> calculateCuttingParameters() {</div><div class="line"></div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> songRange = <a class="code" href="voice_o_graph_8h.html#ac09be2f263355a1397cf645c3df21af3">CUTTING_RANGE</a> - <a class="code" href="voice_o_graph_8h.html#a6570e938152cc03dae9e1442356664db">STARTGROOVE_RANGE</a> - <a class="code" href="voice_o_graph_8h.html#adeb62dad838426ee186ce4dfbaa7aab0">ENDGROOVE_RANGE_MIN</a>;</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> songGrooves = songRange / (float)<a class="code" href="voice_o_graph_8h.html#aed196ce70d336f4c6dee6c2406ff4a3c">SONGGROOVE_PITCH</a>;</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> playTime_seconds = songGrooves * 60 / <a class="code" href="voice_o_graph_8h.html#aa1cbb68ed22b3c3365f818ea2cf74584">RECORD_TURNS_PER_MINUTE</a>;</div><div class="line">    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> endGrooveRange = <a class="code" href="voice_o_graph_8h.html#adeb62dad838426ee186ce4dfbaa7aab0">ENDGROOVE_RANGE_MIN</a>;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    Serial.println();</div><div class="line">    Serial.println(<span class="stringliteral">&quot;################################################################################&quot;</span>);</div><div class="line">    Serial.println(<span class="stringliteral">&quot;############################## CUTTING PARAMETERS ##############################&quot;</span>);</div><div class="line">    Serial.println(<span class="stringliteral">&quot;################################################################################&quot;</span>);</div><div class="line">    Serial.println();</div><div class="line"></div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;groove pitch is set to &quot;</span>));</div><div class="line">    Serial.print(<a class="code" href="voice_o_graph_8h.html#aed196ce70d336f4c6dee6c2406ff4a3c">SONGGROOVE_PITCH</a>);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;mm, start groove pitch is set to &quot;</span>));</div><div class="line">    Serial.print(<a class="code" href="voice_o_graph_8h.html#ad26ea4eafb71c35290a109e2e05258a0">STARTGROOVE_PITCH</a>);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;mm, start groove width is set to &quot;</span>));</div><div class="line">    Serial.print(<a class="code" href="voice_o_graph_8h.html#a6570e938152cc03dae9e1442356664db">STARTGROOVE_RANGE</a>);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;mm, end groove pitch is set to &quot;</span>));</div><div class="line">    Serial.print(<a class="code" href="voice_o_graph_8h.html#acf0f597a0f71bb46e4604840d9cf4af3">ENDGROOVE_PITCH</a>);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;mm, minimal end groove width is set to &quot;</span>));</div><div class="line">    Serial.print(ENDGROOVE_RANGE_MIN);</div><div class="line">    Serial.println(F(<span class="stringliteral">&quot;mm&quot;</span>));</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;max. song width: &quot;</span>));</div><div class="line">    Serial.print(songRange);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;mm, max. song grooves: &quot;</span>));</div><div class="line">    Serial.print(songGrooves);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;, max. playing time: &quot;</span>));</div><div class="line">    Serial.print(playTime_seconds / 60);</div><div class="line">    Serial.print(F(<span class="stringliteral">&quot;:&quot;</span>));</div><div class="line">    Serial.println(playTime_seconds % 60);</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> ((<span class="keywordtype">float</span>)<a class="code" href="voice_o_graph_8h.html#a1788b45bcaab9dc914cca63c275a3687">PLAYTIME_MINUTES</a> * 60 &lt; playTime_seconds) {</div><div class="line">        songGrooves = <a class="code" href="voice_o_graph_8h.html#a1788b45bcaab9dc914cca63c275a3687">PLAYTIME_MINUTES</a> * <a class="code" href="voice_o_graph_8h.html#aa1cbb68ed22b3c3365f818ea2cf74584">RECORD_TURNS_PER_MINUTE</a>;</div><div class="line">        songRange = songGrooves * <a class="code" href="voice_o_graph_8h.html#aed196ce70d336f4c6dee6c2406ff4a3c">SONGGROOVE_PITCH</a>;</div><div class="line">        endGrooveRange = <a class="code" href="voice_o_graph_8h.html#ac09be2f263355a1397cf645c3df21af3">CUTTING_RANGE</a> - songRange - <a class="code" href="voice_o_graph_8h.html#a6570e938152cc03dae9e1442356664db">STARTGROOVE_RANGE</a>;</div><div class="line">        playTime_seconds = <a class="code" href="voice_o_graph_8h.html#a1788b45bcaab9dc914cca63c275a3687">PLAYTIME_MINUTES</a> * 60;</div><div class="line"></div><div class="line">        Serial.print(F(<span class="stringliteral">&quot;playing time is set to &quot;</span>));</div><div class="line">        Serial.print(playTime_seconds / 60);</div><div class="line">        Serial.print(F(<span class="stringliteral">&quot;:&quot;</span>));</div><div class="line">        Serial.print(playTime_seconds % 60);</div><div class="line">        Serial.print(F(<span class="stringliteral">&quot;, song width: &quot;</span>));</div><div class="line">        Serial.print(songRange);</div><div class="line">        Serial.print(F(<span class="stringliteral">&quot;mm, record grooves: &quot;</span>));</div><div class="line">        Serial.println(songGrooves);</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        Serial.println(F(<span class="stringliteral">&quot;desired playing time is too long, using maximal playing time!&quot;</span>));</div><div class="line">    }</div><div class="line"></div><div class="line"></div><div class="line">    grooves_all = STARTGROOVE_RANGE / (float)<a class="code" href="voice_o_graph_8h.html#ad26ea4eafb71c35290a109e2e05258a0">STARTGROOVE_PITCH</a> + songGrooves + endGrooveRange / (<span class="keywordtype">float</span>)<a class="code" href="voice_o_graph_8h.html#acf0f597a0f71bb46e4604840d9cf4af3">ENDGROOVE_PITCH</a>;</div><div class="line">    turnTableStepperDegrees = grooves_all * <a class="code" href="voice_o_graph_8h.html#a80854675f673058e15fd5883ebe55712">TABLE_DRIVE_RATIO</a> * 360.0;</div><div class="line">    <span class="comment">//    turnTableStepperSpeed = RECORD_TURNS_PER_MINUTE / 60.0 * TABLE_DRIVE_RATIO * 360.0;</span></div><div class="line">    turnTableStepperSpeed = 6.0 * RECORD_TURNS_PER_MINUTE * <a class="code" href="voice_o_graph_8h.html#a80854675f673058e15fd5883ebe55712">TABLE_DRIVE_RATIO</a>;</div><div class="line"></div><div class="line"></div><div class="line">    <span class="keywordtype">float</span> catSpeed_start_mmPerSecond = <a class="code" href="voice_o_graph_8h.html#ad26ea4eafb71c35290a109e2e05258a0">STARTGROOVE_PITCH</a> * RECORD_TURNS_PER_MINUTE / 60.0;</div><div class="line">    <span class="keywordtype">float</span> catMotorDegrees_start = 360.0 * STARTGROOVE_RANGE / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line">    catMotorSpeed_startGroove = 360.0 * catSpeed_start_mmPerSecond / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line"></div><div class="line">    <span class="keywordtype">float</span> catSpeed_song_mmPerSecond = SONGGROOVE_PITCH * RECORD_TURNS_PER_MINUTE / 60.0;</div><div class="line">    <span class="keywordtype">float</span> catMotorDegrees_song = 360.0 * songRange / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line">    catMotorSpeed_song = 360.0 * catSpeed_song_mmPerSecond / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line"></div><div class="line">    <span class="keywordtype">float</span> catSpeed_end_mmPerSecond = <a class="code" href="voice_o_graph_8h.html#acf0f597a0f71bb46e4604840d9cf4af3">ENDGROOVE_PITCH</a> * RECORD_TURNS_PER_MINUTE / 60.0;</div><div class="line">    <span class="keywordtype">float</span> catMotorDegrees_end = 360.0 * endGrooveRange / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line">    catMotorSpeed_endGroove = 360.0 * catSpeed_end_mmPerSecond / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line"></div><div class="line"></div><div class="line">    catSongStartPosition = <a class="code" href="voice_o_graph_8h.html#a65026c4ddcb978085f689a42de579221">CAT_CUTTING_START_POSITION</a> + catMotorDegrees_start;</div><div class="line">    catSongEndPosition = catSongStartPosition + catMotorDegrees_song;</div><div class="line">    catCuttingEndPosition = <a class="code" href="voice_o_graph_8h.html#a65026c4ddcb978085f689a42de579221">CAT_CUTTING_START_POSITION</a> + <a class="code" href="voice_o_graph_8h.html#ac09be2f263355a1397cf645c3df21af3">CUTTING_RANGE</a> * 360.0 / <a class="code" href="voice_o_graph_8h.html#ae323b672337fe87952d6e8e7c36a1982">SPIN_PITCH_M6</a> / (float)(<a class="code" href="voice_o_graph_8h.html#aa6b13594faaf22ab25bdd0ad1b46a3a5">CAT_DRIVE_RATIO</a>);</div><div class="line"></div><div class="line"></div><div class="line">    Serial.print(<span class="stringliteral">&quot;Cutting the start groove: cutting progress [mm/sec]: &quot;</span>);</div><div class="line">    Serial.print(catSpeed_start_mmPerSecond);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees: &quot;</span>);</div><div class="line">    Serial.print(catMotorDegrees_start);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees per second: &quot;</span>);</div><div class="line">    Serial.println(catMotorSpeed_startGroove);</div><div class="line"></div><div class="line">    Serial.print(<span class="stringliteral">&quot;Cutting the song: cutting progress [mm/sec]: &quot;</span>);</div><div class="line">    Serial.print(catSpeed_song_mmPerSecond);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees: &quot;</span>);</div><div class="line">    Serial.print(catMotorDegrees_song);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees per second: &quot;</span>);</div><div class="line">    Serial.println(catMotorSpeed_song);</div><div class="line"></div><div class="line">    Serial.print(<span class="stringliteral">&quot;Cutting the end groove: cutting progress [mm/sec]: &quot;</span>);</div><div class="line">    Serial.print(catSpeed_end_mmPerSecond);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees: &quot;</span>);</div><div class="line">    Serial.print(catMotorDegrees_end);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees per second: &quot;</span>);</div><div class="line">    Serial.println(catMotorSpeed_endGroove);</div><div class="line"></div><div class="line">    Serial.print(<span class="stringliteral">&quot;Turning the table: table rotations: &quot;</span>);</div><div class="line">    Serial.print(grooves_all);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, motor degrees: &quot;</span>);</div><div class="line">    Serial.print(turnTableStepperDegrees);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, degrees per second: &quot;</span>);</div><div class="line">    Serial.println(turnTableStepperSpeed);</div><div class="line"></div><div class="line">    Serial.println();</div><div class="line">    Serial.println(<span class="stringliteral">&quot;################################################################################&quot;</span>);</div><div class="line">    Serial.println();</div><div class="line">    Serial.println();</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> setup() {</div><div class="line"></div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#a6864348b62200f1206999dfef96c63d8">FETCH_RECORD_BUTTON</a>, INPUT_PULLUP);</div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#a9d8ba12812e628c0bb79736650d9868e">START_CUTTING_BUTTON</a>, INPUT_PULLUP);</div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#a8b46b42d1bdf2a0fdd59d2415be56668">MATCH_HEADIMPACT_SWITCH</a>, INPUT_PULLUP);</div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#aabcf66983ed5edb9c7492478805f68b9">MOVE_MANUALLY_SWITCH</a>, INPUT_PULLUP);</div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#a7edf0d0367a5722e59fb3c78910b27a9">MOVE_CAT_FWD_BUTTON</a>, INPUT_PULLUP);</div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#acb8492036eb5caea42aad27dfa515487">MOVE_CAT_RWD_BUTTON</a>, INPUT_PULLUP);</div><div class="line"></div><div class="line">    pinMode(<a class="code" href="voice_o_graph_8h.html#a78e82e2ee0bdecbce529d3fdcecc30de">I_AM_LATE_LED</a>, OUTPUT);</div><div class="line"></div><div class="line">    Serial.begin(115200);</div><div class="line">    Serial.println(), Serial.println(), Serial.println();</div><div class="line">    Serial.println(), Serial.println(), Serial.println();</div><div class="line"></div><div class="line">    calculateCuttingParameters();</div><div class="line"></div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> freeRam() {</div><div class="line">    <span class="keywordtype">char</span> *ramstart = (<span class="keywordtype">char</span> *) 0x20070000;</div><div class="line">    <span class="keywordtype">char</span> *ramend = (<span class="keywordtype">char</span> *) 0x20088000;</div><div class="line">    <span class="keywordtype">char</span> *heapend = sbrk(0);</div><div class="line">    <span class="keyword">register</span> <span class="keywordtype">char</span> * stack_ptr <span class="keyword">asm</span>( <span class="stringliteral">&quot;sp&quot;</span> );</div><div class="line">    <span class="keyword">struct </span>mallinfo mi = mallinfo();</div><div class="line">    Serial.print(<span class="stringliteral">&quot;Ram used (bytes): dynamic: &quot;</span>);</div><div class="line">    Serial.print(mi.uordblks);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;  static:  &quot;</span>);</div><div class="line">    Serial.print(&amp;_end - ramstart);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;  stack:   &quot;</span>);</div><div class="line">    Serial.print(ramend - stack_ptr);</div><div class="line">    Serial.print(<span class="stringliteral">&quot;, estimation free Ram: &quot;</span>);</div><div class="line">    Serial.println(stack_ptr - heapend + mi.fordblks);</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
